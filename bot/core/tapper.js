const a0_0x525a68=a0_0x5008;(function(_0xb8fde2,_0x15999b){const _0x5bd827=a0_0x5008,_0x584408=_0xb8fde2();while(!![]){try{const _0x27239f=parseInt(_0x5bd827(0x144))/0x1+-parseInt(_0x5bd827(0x14f))/0x2+parseInt(_0x5bd827(0x15d))/0x3*(parseInt(_0x5bd827(0x132))/0x4)+parseInt(_0x5bd827(0x1a9))/0x5+parseInt(_0x5bd827(0x192))/0x6+parseInt(_0x5bd827(0x15e))/0x7+parseInt(_0x5bd827(0x138))/0x8*(-parseInt(_0x5bd827(0x161))/0x9);if(_0x27239f===_0x15999b)break;else _0x584408['push'](_0x584408['shift']());}catch(_0x576140){_0x584408['push'](_0x584408['shift']());}}}(a0_0x4f37,0x4b5e6));const {default:axios}=require(a0_0x525a68(0x131)),logger=require(a0_0x525a68(0x196)),headers=require('./header'),{Api}=require('telegram'),{SocksProxyAgent}=require('socks-proxy-agent'),settings=require(a0_0x525a68(0x179)),app=require(a0_0x525a68(0x197)),user_agents=require(a0_0x525a68(0x185)),fs=require('fs'),sleep=require(a0_0x525a68(0x183)),ApiRequest=require(a0_0x525a68(0x16e));function a0_0x4f37(){const _0xda15d2=['\x20|\x20‚è∞\x20Daily\x20reward\x20not\x20available.\x20Next\x20check:\x20<b><lb>','start_game','</ye>','access','claim_farming','message','\x20|\x20üéâ\x20Claimed\x20friends\x20reward\x20<gr>+','\x20|\x20‚ùóÔ∏èUnknown\x20error\x20during\x20Authorization:\x20','writeFileSync','1227285vdspFl','1411249zDdhGN','create','://','388143fXDCgH','ECONNREFUSED','info','\x0aProxy:\x20','channels','freddy_bots','\x20could\x20not\x20be\x20found.\x20Please\x20check\x20the\x20proxy\x20address\x20and\x20your\x20network\x20connection.','freddy_bot','</lb>','\x20|\x20Claiming\x20farming\x20reward...','\x20|\x20Game\x20started\x20\x20|\x20Duration:\x20<la>\x2035\x20seconds</la>','\x20|\x20üò¥\x20sleeping\x20for\x20','Bearer\x20','./api','ENOENT','stringify','\x20seconds...','toQueryString','check_jwt','get_user_data','GetHistory','code','data','post','../config/config','SLEEP_BETWEEN_TAP','run','CLAIM_DAILY_REWARD','</ye>\x20|\x20Balance:\x20<lb>','</gr>\x20Blum\x20points\x20|\x20Available\x20Play\x20Passes:\x20<ye>','../utils/parser','claim_game_reward','earningsRate','split','../utils/sleep','Unknown','../config/userAgents','origin','CLAIM_FRIENDS_REWARD','webviewUrl','replace','\x20hour(s)','peer','android','session_user_agents','random','authorization','test','url','2642040obwmhB','length','get_friend_balance','\x20|\x20Proxy:\x20','../utils/logger','../config/app','/v1/auth/provider/PROVIDER_TELEGRAM_MINI_APP','\x20|\x20Farming\x20ends\x20in\x20','\x20|\x20Proxy\x20IP:\x20','bot','</la>\x20|\x20Earnings\x20Rate:\x20<pi>','port','defaults','\x20|\x20üéâ\x20Claimed\x20farming\x20reward\x20|\x20Balance\x20<lb>','claimBalance','USE_PROXY_FROM_FILE','socksType','ios','session_name','exports','startTime','\x20|\x20Proxy\x20agent\x20error:\x20','farming','206535HfjJYI','playPasses','\x20|\x20Farming\x20started\x20\x20|\x20End\x20Time:\x20<la>','\x20|\x20‚ùóÔ∏èUnknown\x20error\x20while\x20getting\x20Access\x20Token:\x20','availableBalance','start_farming','toLowerCase','username','get_time','axios','4CduqSZ','</lb></b>','get','floor','error','\x20|\x20JWT\x20token\x20has\x20expired.\x20Trying\x20to\x20refresh...','136jAsHln','messages','getaddrinfo','uuid','api','getInputEntity','balance','token','\x20|\x20Game\x20ended\x20\x20|\x20Earnings:\x20<gr>+','endTime','\x20|\x20üöÄ\x20Starting\x20session...','invoke','387347dRIAEY','tg_client','</pi>','includes','now','</lb>\x20|\x20Available\x20Play\x20Pass\x20<ye>','socks','utf8','gatewayApiUrl','canClaim','headers','875654NoKSGe','start','AUTO_PLAY_GAMES','AUTO_CLAIM_FARMING_REWARD','refresh'];a0_0x4f37=function(){return _0xda15d2;};return a0_0x4f37();}var _=require('lodash');function a0_0x5008(_0x374e2c,_0x2b85a1){const _0x4f3792=a0_0x4f37();return a0_0x5008=function(_0x5008e2,_0x539b9c){_0x5008e2=_0x5008e2-0x129;let _0x6ae286=_0x4f3792[_0x5008e2];return _0x6ae286;},a0_0x5008(_0x374e2c,_0x2b85a1);}const parser=require(a0_0x525a68(0x17f)),v4=require(a0_0x525a68(0x13b));class Tapper{constructor(_0x2e1f4d){const _0x126d2a=a0_0x525a68;this[_0x126d2a(0x1a4)]=_0x2e1f4d['session_name'],this['tg_client']=_0x2e1f4d[_0x126d2a(0x145)],this[_0x126d2a(0x18d)]=this.#load_session_data(),this['headers']={...headers,'user-agent':this.#get_user_agent()},this['api']=new ApiRequest(this[_0x126d2a(0x1a4)]);}#load_session_data(){const _0x58edef=a0_0x525a68;try{const _0x2345a9=fs['readFileSync']('session_user_agents.json',_0x58edef(0x14b));return JSON['parse'](_0x2345a9);}catch(_0x33762f){if(_0x33762f[_0x58edef(0x176)]===_0x58edef(0x16f))return{};else throw _0x33762f;}}#clean_tg_web_data(_0xb343d6){const _0x5c8291=a0_0x525a68;let _0x2a462a=_0xb343d6['replace'](/^tgWebAppData=/,'');return _0x2a462a=_0x2a462a['replace'](/&tgWebAppVersion=7\.4&tgWebAppPlatform=ios$/,'')[_0x5c8291(0x189)](/&tgWebAppVersion=7\.4&tgWebAppPlatform=android$/,'')[_0x5c8291(0x189)](/&tgWebAppVersion=7\.4&tgWebAppPlatform=ios&tgWebAppBotInline=1$/,'')[_0x5c8291(0x189)](/&tgWebAppVersion=7\.4&tgWebAppPlatform=android&tgWebAppBotInline=1$/,''),_0x2a462a;}#get_random_user_agent(){const _0x5b323e=a0_0x525a68,_0x2f27d7=Math[_0x5b323e(0x135)](Math[_0x5b323e(0x18e)]()*user_agents['length']);return user_agents[_0x2f27d7];}#get_user_agent(){const _0xedf74e=a0_0x525a68;if(this[_0xedf74e(0x18d)][this[_0xedf74e(0x1a4)]])return this[_0xedf74e(0x18d)][this['session_name']];logger['info'](this['session_name']+'\x20|\x20Generating\x20new\x20user\x20agent...');const _0x4c4a32=this.#get_random_user_agent();return this['session_user_agents'][this[_0xedf74e(0x1a4)]]=_0x4c4a32,this.#save_session_data(this[_0xedf74e(0x18d)]),_0x4c4a32;}#save_session_data(_0x39e613){const _0xedfdfa=a0_0x525a68;fs[_0xedfdfa(0x15c)]('session_user_agents.json',JSON[_0xedfdfa(0x170)](_0x39e613,null,0x2));}#get_platform(_0xed5bd){const _0x23bf4f=a0_0x525a68,_0x399adb=[{'pattern':/iPhone/i,'platform':_0x23bf4f(0x1a3)},{'pattern':/Android/i,'platform':_0x23bf4f(0x18c)},{'pattern':/iPad/i,'platform':'ios'}];for(const {pattern:_0x4fc1f0,platform:_0x565b96}of _0x399adb){if(_0x4fc1f0[_0x23bf4f(0x190)](_0xed5bd))return _0x565b96;}return _0x23bf4f(0x184);}#proxy_agent(_0x45adf9){const _0xce4963=a0_0x525a68;try{if(!_0x45adf9)return null;let _0x28b050;return!_0x45adf9['password']&&!_0x45adf9[_0xce4963(0x12f)]?_0x28b050='socks'+_0x45adf9[_0xce4963(0x1a2)]+_0xce4963(0x160)+_0x45adf9['ip']+':'+_0x45adf9[_0xce4963(0x19d)]:_0x28b050=_0xce4963(0x14a)+_0x45adf9[_0xce4963(0x1a2)]+_0xce4963(0x160)+_0x45adf9['username']+':'+_0x45adf9['password']+'@'+_0x45adf9['ip']+':'+_0x45adf9[_0xce4963(0x19d)],new SocksProxyAgent(_0x28b050);}catch(_0x2c93f6){return logger[_0xce4963(0x136)](this[_0xce4963(0x1a4)]+_0xce4963(0x1a7)+_0x2c93f6+_0xce4963(0x164)+JSON[_0xce4963(0x170)](_0x45adf9,null,0x2)),null;}}async #get_tg_web_data(){const _0x148638=a0_0x525a68;try{await this['tg_client'][_0x148638(0x150)]();const _0x258cf7=this.#get_platform(this.#get_user_agent()),_0x25287a=await this[_0x148638(0x145)]['invoke'](new Api[(_0x148638(0x139))][(_0x148638(0x175))]({'peer':_0x148638(0x168),'limit':0x1}));_0x25287a[_0x148638(0x139)][_0x148638(0x193)]<0x1&&await this[_0x148638(0x145)][_0x148638(0x143)](new Api[(_0x148638(0x165))]['JoinChannel']({'channel':_0x148638(0x166)}));const _0x172bbd=await this[_0x148638(0x145)][_0x148638(0x143)](new Api['messages']['RequestWebView']({'peer':await this['tg_client']['getInputEntity'](app[_0x148638(0x18b)]),'bot':await this[_0x148638(0x145)][_0x148638(0x13d)](app[_0x148638(0x19b)]),'platform':_0x258cf7,'from_bot_menu':![],'url':app[_0x148638(0x188)]})),_0x33072a=_0x172bbd[_0x148638(0x191)],_0x4483c8=_0x33072a[_0x148638(0x182)]('#',0x2)[0x1],_0x422a82=parser['toJson'](decodeURIComponent(this.#clean_tg_web_data(_0x4483c8))),_0x349b7a={'query':parser[_0x148638(0x172)](_0x422a82)};return _0x349b7a;}catch(_0x19f50b){logger[_0x148638(0x136)](this[_0x148638(0x1a4)]+_0x148638(0x15b)+_0x19f50b);throw _0x19f50b;}finally{await sleep(0x1),logger[_0x148638(0x163)](this[_0x148638(0x1a4)]+_0x148638(0x142));}}async #get_access_token(_0x42c3ba,_0x65e966){const _0x1e6673=a0_0x525a68;try{const _0x302bdd=await _0x65e966[_0x1e6673(0x178)](app[_0x1e6673(0x14c)]+_0x1e6673(0x198),JSON[_0x1e6673(0x170)](_0x42c3ba));return _0x302bdd[_0x1e6673(0x177)]?.[_0x1e6673(0x13f)];}catch(_0x892ef8){logger[_0x1e6673(0x136)](this[_0x1e6673(0x1a4)]+_0x1e6673(0x12b)+_0x892ef8),await sleep(0x3);}}async #check_proxy(_0x5acff7,_0x161dae){const _0x550156=a0_0x525a68;try{const _0x1444fc=await _0x5acff7[_0x550156(0x134)]('https://httpbin.org/ip'),_0x28a904=_0x1444fc['data'][_0x550156(0x186)];logger['info'](this['session_name']+_0x550156(0x19a)+_0x28a904);}catch(_0x4dcae7){return _0x4dcae7[_0x550156(0x159)][_0x550156(0x147)]('ENOTFOUND')||_0x4dcae7['message']['includes'](_0x550156(0x13a))||_0x4dcae7[_0x550156(0x159)][_0x550156(0x147)](_0x550156(0x162))?(logger[_0x550156(0x136)](this['session_name']+'\x20|\x20Error:\x20Unable\x20to\x20resolve\x20the\x20proxy\x20address.\x20The\x20proxy\x20server\x20at\x20'+_0x161dae['ip']+':'+_0x161dae[_0x550156(0x19d)]+_0x550156(0x167)),logger[_0x550156(0x136)](this[_0x550156(0x1a4)]+'\x20|\x20No\x20proxy\x20will\x20be\x20used.')):logger[_0x550156(0x136)](this['session_name']+_0x550156(0x195)+_0x161dae['ip']+':'+_0x161dae[_0x550156(0x19d)]+'\x20|\x20Error:\x20'+_0x4dcae7[_0x550156(0x159)]),![];}}async[a0_0x525a68(0x17b)](_0x2834b9){const _0x507ad6=a0_0x525a68;let _0x10dc66,_0x32f4a9=0x0,_0x2ff21d,_0x5732c7=0x0,_0x1078c3,_0x436f98;if(settings[_0x507ad6(0x1a1)]&&_0x2834b9){_0x10dc66=axios[_0x507ad6(0x15f)]({'httpsAgent':this.#proxy_agent(_0x2834b9),'headers':this['headers'],'withCredentials':!![]});const _0x54e96b=await this.#check_proxy(_0x10dc66,_0x2834b9);!_0x54e96b&&(_0x10dc66=axios[_0x507ad6(0x15f)]({'headers':this[_0x507ad6(0x14e)],'withCredentials':!![]}));}else _0x10dc66=axios['create']({'headers':this['headers'],'withCredentials':!![]});while(!![]){try{const _0x1b8039=Date[_0x507ad6(0x148)]()/0x3e8;if(_0x1b8039-_0x32f4a9>=0x708){if(_0x1078c3){const _0x5916b9={'refresh':_0x1078c3};_0x436f98=await this[_0x507ad6(0x13c)]['refresh_token'](_0x10dc66,_0x5916b9),_0x1078c3=_0x436f98?.[_0x507ad6(0x153)],_0x10dc66['defaults']['headers'][_0x507ad6(0x18f)]=_0x507ad6(0x16d)+_0x436f98?.[_0x507ad6(0x157)];}else{const _0x2e56fe=await this.#get_tg_web_data();_0x436f98=await this.#get_access_token(_0x2e56fe,_0x10dc66),_0x1078c3=_0x436f98?.[_0x507ad6(0x153)],_0x10dc66[_0x507ad6(0x19e)]['headers'][_0x507ad6(0x18f)]=_0x507ad6(0x16d)+_0x436f98?.['access'];}_0x32f4a9=_0x1b8039,await sleep(0x2);}_0x2ff21d=await this[_0x507ad6(0x13c)][_0x507ad6(0x174)](_0x10dc66);const _0x49f6f3=await this['api'][_0x507ad6(0x130)](_0x10dc66),_0x2ed759=await this[_0x507ad6(0x13c)][_0x507ad6(0x173)](_0x10dc66);if(!_0x2ed759){logger[_0x507ad6(0x163)](this['session_name']+_0x507ad6(0x137)),_0x2ff21d=null,_0x436f98=null,_0x1078c3=null,_0x32f4a9=0x0;continue;}if(!_0x2ff21d)continue;if(!_0x2ff21d?.[_0x507ad6(0x1a8)]){if(settings['AUTO_START_FARMING']){const _0x4d5bc6=await this[_0x507ad6(0x13c)][_0x507ad6(0x12d)](_0x10dc66);logger[_0x507ad6(0x163)](this['session_name']+_0x507ad6(0x12a)+new Date(_0x4d5bc6?.[_0x507ad6(0x141)])+_0x507ad6(0x19c)+_0x4d5bc6?.[_0x507ad6(0x181)]+_0x507ad6(0x146));}}else{if(_0x49f6f3?.['now']>=_0x2ff21d?.['farming']?.['endTime']){if(settings[_0x507ad6(0x152)]){logger[_0x507ad6(0x163)](this[_0x507ad6(0x1a4)]+_0x507ad6(0x16a));const _0x5e861a=await this[_0x507ad6(0x13c)][_0x507ad6(0x158)](_0x10dc66);logger[_0x507ad6(0x163)](this[_0x507ad6(0x1a4)]+_0x507ad6(0x19f)+_0x5e861a?.[_0x507ad6(0x12c)]+_0x507ad6(0x149)+_0x5e861a?.['playPasses']+_0x507ad6(0x156));}}else _0x49f6f3?.['now']>=_0x2ff21d?.[_0x507ad6(0x1a8)]?.[_0x507ad6(0x1a6)]&&logger[_0x507ad6(0x163)](this[_0x507ad6(0x1a4)]+_0x507ad6(0x199)+Math['floor']((_0x2ff21d?.[_0x507ad6(0x1a8)]?.[_0x507ad6(0x141)]-_0x49f6f3?.['now'])/0x3e8/0x3c/0x3c)+_0x507ad6(0x18a));}await sleep(0x3),_0x2ff21d=await this['api']['get_user_data'](_0x10dc66);if(settings[_0x507ad6(0x151)]){if(_0x2ff21d?.['playPasses']>0x0){const _0x42fd64=await this[_0x507ad6(0x13c)][_0x507ad6(0x155)](_0x10dc66);if(_0x42fd64?.['gameId']){logger['info'](this['session_name']+_0x507ad6(0x16b)),await sleep(0x23);const _0xbf7bf4=_[_0x507ad6(0x18e)](0x64,0xc8),_0x2e192d={'gameId':_0x42fd64?.['gameId'],'points':_0xbf7bf4},_0x2db3c0=await this[_0x507ad6(0x13c)][_0x507ad6(0x180)](_0x10dc66,_0x2e192d);_0x2ff21d=await this['api'][_0x507ad6(0x174)](_0x10dc66),_0x2db3c0[_0x507ad6(0x12e)]()=='ok'&&logger[_0x507ad6(0x163)](this['session_name']+_0x507ad6(0x140)+_0xbf7bf4+_0x507ad6(0x17e)+_0x2ff21d?.[_0x507ad6(0x129)]+_0x507ad6(0x17d)+_0x2ff21d?.[_0x507ad6(0x12c)]+_0x507ad6(0x169));}}}await sleep(0x3);if(settings[_0x507ad6(0x187)]){const _0x4ce1b3=await this['api'][_0x507ad6(0x194)](_0x10dc66);if(_0x4ce1b3?.[_0x507ad6(0x14d)]&&!isNaN(parseInt(_0x4ce1b3?.[_0x507ad6(0x13e)]))){if(parseInt(_0x4ce1b3?.[_0x507ad6(0x13e)])>0x0){const _0x1a3256=await this[_0x507ad6(0x13c)]['claim_friends_balance'](_0x10dc66);_0x1a3256?.['claimBalance']&&(_0x2ff21d=await this[_0x507ad6(0x13c)][_0x507ad6(0x174)](_0x10dc66),logger[_0x507ad6(0x163)](this[_0x507ad6(0x1a4)]+_0x507ad6(0x15a)+_0x1a3256?.[_0x507ad6(0x1a0)]+'</gr>\x20|\x20Balance:\x20<lb>'+_0x2ff21d?.['availableBalance']+_0x507ad6(0x169)));}}}await sleep(0x3);if(_0x1b8039>=_0x5732c7){if(settings[_0x507ad6(0x17c)]){const _0x44ce03=await this[_0x507ad6(0x13c)]['daily_reward'](_0x10dc66);_0x44ce03?logger[_0x507ad6(0x163)](this[_0x507ad6(0x1a4)]+'\x20|\x20üéâ\x20Claimed\x20daily\x20reward'):(_0x5732c7=_0x1b8039+0x4650,logger[_0x507ad6(0x163)](this[_0x507ad6(0x1a4)]+_0x507ad6(0x154)+new Date(_0x5732c7*0x3e8)+_0x507ad6(0x133)));}}}catch(_0xd90cb9){logger[_0x507ad6(0x136)](this[_0x507ad6(0x1a4)]+'\x20|\x20‚ùóÔ∏èUnknown\x20error:\x20'+_0xd90cb9);}finally{logger[_0x507ad6(0x163)](this[_0x507ad6(0x1a4)]+_0x507ad6(0x16c)+settings[_0x507ad6(0x17a)]+_0x507ad6(0x171)),await sleep(settings[_0x507ad6(0x17a)]);}}}}module[a0_0x525a68(0x1a5)]=Tapper;