const a0_0x80a924=a0_0x4b44;(function(_0x43d821,_0x5704c5){const _0x12ed80=a0_0x4b44,_0x945242=_0x43d821();while(!![]){try{const _0x24e4db=parseInt(_0x12ed80(0x20a))/0x1+parseInt(_0x12ed80(0x23a))/0x2*(parseInt(_0x12ed80(0x1db))/0x3)+-parseInt(_0x12ed80(0x232))/0x4+parseInt(_0x12ed80(0x226))/0x5+-parseInt(_0x12ed80(0x1f7))/0x6*(parseInt(_0x12ed80(0x239))/0x7)+parseInt(_0x12ed80(0x1cc))/0x8+-parseInt(_0x12ed80(0x1ed))/0x9;if(_0x24e4db===_0x5704c5)break;else _0x945242['push'](_0x945242['shift']());}catch(_0x5dc567){_0x945242['push'](_0x945242['shift']());}}}(a0_0x5df4,0xbb1f8));const {default:axios}=require(a0_0x80a924(0x215)),logger=require(a0_0x80a924(0x1fb)),headers=require('./header'),{Api}=require(a0_0x80a924(0x221)),{SocksProxyAgent}=require('socks-proxy-agent'),settings=require('../config/config'),app=require(a0_0x80a924(0x21a)),user_agents=require(a0_0x80a924(0x20e)),fs=require('fs'),sleep=require(a0_0x80a924(0x1fd)),ApiRequest=require(a0_0x80a924(0x210));function a0_0x5df4(){const _0x309d6e=['\x20|\x20üò¥\x20sleeping\x20for\x20','JoinChannel','\x20|\x20üöÄ\x20Starting\x20session...','\x20|\x20üéâ\x20Claimed\x20friends\x20reward\x20<gr>+','origin','6ABjqNY','</ye>','tg_client','token','test','</lb>\x20|\x20Available\x20Play\x20Pass\x20<ye>','earningsRate','session_user_agents.json','endTime','toJson','chatname','api','access','Bearer\x20','claim_friends_balance','ENOTFOUND','code','toLowerCase','7688421rBnmIr','get_user_data','../utils/parser','join_tribe','messages','exports','\x20|\x20Error:\x20Unable\x20to\x20resolve\x20the\x20proxy\x20address.\x20The\x20proxy\x20server\x20at\x20','AUTO_START_FARMING','bot','\x20|\x20‚ùóÔ∏èUnknown\x20error:\x20','6IUoZox','get_friend_balance','length','claim_game_reward','../utils/logger','claim_farming','../utils/sleep','claimBalance','authorization','GetHistory','floor','USE_PROXY_FROM_FILE','AUTO_JOIN_TRIBE','socks','get','freddy_bot','toQueryString','Unknown','daily_reward','1024860kbEcFQ','get_time','</ye>\x20|\x20Balance:\x20<lb>','</lb>','../config/userAgents','\x20|\x20üéâ\x20Claimed\x20daily\x20reward','./api','create','port','session_user_agents','start','axios','now','canClaim','message','writeFileSync','../config/app','stringify','ECONNREFUSED','\x20|\x20JWT\x20token\x20has\x20expired.\x20Trying\x20to\x20refresh...','start_game','\x20|\x20Joined\x20tribe:\x20<lb>','username','telegram','playPasses','post','get_tribes','replace','1211870vpRXYS','\x20|\x20üéâ\x20Claimed\x20farming\x20reward\x20|\x20Balance\x20<lb>','data','</gr>\x20|\x20Balance:\x20<lb>','password','getaddrinfo','https://httpbin.org/ip','isArray','\x20|\x20No\x20tribe\x20to\x20join','</gr>\x20Blum\x20points\x20|\x20Available\x20Play\x20Passes:\x20<ye>','freddy_bots','farming','1814896ECyrid','AUTO_CLAIM_FARMING_REWARD','://','\x20|\x20Proxy:\x20','info','lodash','items','4299141dyWeAB','418916CKOLbS','gameId','startTime','invoke','\x0aProxy:\x20','amountForClaim','\x20|\x20Farming\x20ends\x20in\x20','split','utf8','\x20seconds...','\x20|\x20Proxy\x20agent\x20error:\x20','</lb></b>','ios','includes','8019696OIFBTj','RequestWebView','headers','random','socksType','error','\x20|\x20Proxy\x20IP:\x20','android','availableBalance','session_name'];a0_0x5df4=function(){return _0x309d6e;};return a0_0x5df4();}var _=require(a0_0x80a924(0x237));function a0_0x4b44(_0x591471,_0x4a6632){const _0x5df458=a0_0x5df4();return a0_0x4b44=function(_0x4b44b0,_0x1f6f7e){_0x4b44b0=_0x4b44b0-0x1c3;let _0x2b6641=_0x5df458[_0x4b44b0];return _0x2b6641;},a0_0x4b44(_0x591471,_0x4a6632);}const parser=require(a0_0x80a924(0x1ef));class Tapper{constructor(_0x29cc30){const _0x3c2bb0=a0_0x80a924;this[_0x3c2bb0(0x1d5)]=_0x29cc30['session_name'],this[_0x3c2bb0(0x1dd)]=_0x29cc30[_0x3c2bb0(0x1dd)],this[_0x3c2bb0(0x213)]=this.#load_session_data(),this['headers']={...headers,'user-agent':this.#get_user_agent()},this[_0x3c2bb0(0x1e6)]=new ApiRequest(this[_0x3c2bb0(0x1d5)]);}#load_session_data(){const _0x597d0c=a0_0x80a924;try{const _0xa17418=fs['readFileSync'](_0x597d0c(0x1e2),_0x597d0c(0x1c6));return JSON['parse'](_0xa17418);}catch(_0xd0b849){if(_0xd0b849[_0x597d0c(0x1eb)]==='ENOENT')return{};else throw _0xd0b849;}}#clean_tg_web_data(_0x2d0aee){const _0x4ce016=a0_0x80a924;let _0x385582=_0x2d0aee[_0x4ce016(0x225)](/^tgWebAppData=/,'');return _0x385582=_0x385582[_0x4ce016(0x225)](/&tgWebAppVersion=7\.4&tgWebAppPlatform=ios$/,'')[_0x4ce016(0x225)](/&tgWebAppVersion=7\.4&tgWebAppPlatform=android$/,'')['replace'](/&tgWebAppVersion=7\.4&tgWebAppPlatform=ios&tgWebAppBotInline=1$/,'')['replace'](/&tgWebAppVersion=7\.4&tgWebAppPlatform=android&tgWebAppBotInline=1$/,''),_0x385582;}#get_random_user_agent(){const _0x1656fc=a0_0x80a924,_0x3253f1=Math[_0x1656fc(0x201)](Math['random']()*user_agents[_0x1656fc(0x1f9)]);return user_agents[_0x3253f1];}#get_user_agent(){const _0xbca9f7=a0_0x80a924;if(this['session_user_agents'][this[_0xbca9f7(0x1d5)]])return this[_0xbca9f7(0x213)][this['session_name']];logger[_0xbca9f7(0x236)](this[_0xbca9f7(0x1d5)]+'\x20|\x20Generating\x20new\x20user\x20agent...');const _0x240bfe=this.#get_random_user_agent();return this[_0xbca9f7(0x213)][this[_0xbca9f7(0x1d5)]]=_0x240bfe,this.#save_session_data(this[_0xbca9f7(0x213)]),_0x240bfe;}#save_session_data(_0x3f4830){const _0x6ea3=a0_0x80a924;fs[_0x6ea3(0x219)](_0x6ea3(0x1e2),JSON['stringify'](_0x3f4830,null,0x2));}#get_platform(_0x402842){const _0x38f96e=a0_0x80a924,_0x31811c=[{'pattern':/iPhone/i,'platform':_0x38f96e(0x1ca)},{'pattern':/Android/i,'platform':_0x38f96e(0x1d3)},{'pattern':/iPad/i,'platform':'ios'}];for(const {pattern:_0x19bbd4,platform:_0x678e8}of _0x31811c){if(_0x19bbd4[_0x38f96e(0x1df)](_0x402842))return _0x678e8;}return _0x38f96e(0x208);}#proxy_agent(_0x451c1e){const _0x44a8d6=a0_0x80a924;try{if(!_0x451c1e)return null;let _0x2f4eea;return!_0x451c1e[_0x44a8d6(0x22a)]&&!_0x451c1e[_0x44a8d6(0x220)]?_0x2f4eea='socks'+_0x451c1e['socksType']+_0x44a8d6(0x234)+_0x451c1e['ip']+':'+_0x451c1e[_0x44a8d6(0x212)]:_0x2f4eea=_0x44a8d6(0x204)+_0x451c1e[_0x44a8d6(0x1d0)]+'://'+_0x451c1e[_0x44a8d6(0x220)]+':'+_0x451c1e['password']+'@'+_0x451c1e['ip']+':'+_0x451c1e['port'],new SocksProxyAgent(_0x2f4eea);}catch(_0x158ae7){return logger[_0x44a8d6(0x1d1)](this[_0x44a8d6(0x1d5)]+_0x44a8d6(0x1c8)+_0x158ae7+_0x44a8d6(0x23e)+JSON[_0x44a8d6(0x21b)](_0x451c1e,null,0x2)),null;}}async #get_tg_web_data(){const _0x5bb83c=a0_0x80a924;try{await this['tg_client'][_0x5bb83c(0x214)]();const _0x2716d0=this.#get_platform(this.#get_user_agent()),_0x209101=await this['tg_client'][_0x5bb83c(0x23d)](new Api['messages'][(_0x5bb83c(0x200))]({'peer':_0x5bb83c(0x206),'limit':0x1}));_0x209101[_0x5bb83c(0x1f1)]['length']<0x1&&await this[_0x5bb83c(0x1dd)][_0x5bb83c(0x23d)](new Api['channels'][(_0x5bb83c(0x1d7))]({'channel':_0x5bb83c(0x230)}));const _0x12c2d0=await this[_0x5bb83c(0x1dd)][_0x5bb83c(0x23d)](new Api[(_0x5bb83c(0x1f1))][(_0x5bb83c(0x1cd))]({'peer':await this[_0x5bb83c(0x1dd)]['getInputEntity'](app['peer']),'bot':await this[_0x5bb83c(0x1dd)]['getInputEntity'](app[_0x5bb83c(0x1f5)]),'platform':_0x2716d0,'from_bot_menu':![],'url':app['webviewUrl']})),_0x82ab0b=_0x12c2d0['url'],_0x4d01f6=_0x82ab0b[_0x5bb83c(0x1c5)]('#',0x2)[0x1],_0x328987=parser[_0x5bb83c(0x1e4)](decodeURIComponent(this.#clean_tg_web_data(_0x4d01f6))),_0x5ec962={'query':parser[_0x5bb83c(0x207)](_0x328987)};return _0x5ec962;}catch(_0x5460e6){logger['error'](this['session_name']+'\x20|\x20‚ùóÔ∏èUnknown\x20error\x20during\x20Authorization:\x20'+_0x5460e6);throw _0x5460e6;}finally{await sleep(0x1),logger[_0x5bb83c(0x236)](this['session_name']+_0x5bb83c(0x1d8));}}async #get_access_token(_0x362797,_0x1b2a16){const _0x28d562=a0_0x80a924;try{const _0x444299=await _0x1b2a16[_0x28d562(0x223)](app['gatewayApiUrl']+'/v1/auth/provider/PROVIDER_TELEGRAM_MINI_APP',JSON[_0x28d562(0x21b)](_0x362797));return _0x444299[_0x28d562(0x228)]?.[_0x28d562(0x1de)];}catch(_0x4055e3){logger[_0x28d562(0x1d1)](this[_0x28d562(0x1d5)]+'\x20|\x20‚ùóÔ∏èUnknown\x20error\x20while\x20getting\x20Access\x20Token:\x20'+_0x4055e3),await sleep(0x3);}}async #check_proxy(_0x3c4b91,_0x61463d){const _0x5b69a2=a0_0x80a924;try{const _0x28f8c6=await _0x3c4b91[_0x5b69a2(0x205)](_0x5b69a2(0x22c)),_0x494266=_0x28f8c6[_0x5b69a2(0x228)][_0x5b69a2(0x1da)];logger['info'](this[_0x5b69a2(0x1d5)]+_0x5b69a2(0x1d2)+_0x494266);}catch(_0x2d66f6){return _0x2d66f6['message'][_0x5b69a2(0x1cb)](_0x5b69a2(0x1ea))||_0x2d66f6['message'][_0x5b69a2(0x1cb)](_0x5b69a2(0x22b))||_0x2d66f6[_0x5b69a2(0x218)][_0x5b69a2(0x1cb)](_0x5b69a2(0x21c))?(logger[_0x5b69a2(0x1d1)](this[_0x5b69a2(0x1d5)]+_0x5b69a2(0x1f3)+_0x61463d['ip']+':'+_0x61463d[_0x5b69a2(0x212)]+'\x20could\x20not\x20be\x20found.\x20Please\x20check\x20the\x20proxy\x20address\x20and\x20your\x20network\x20connection.'),logger[_0x5b69a2(0x1d1)](this['session_name']+'\x20|\x20No\x20proxy\x20will\x20be\x20used.')):logger[_0x5b69a2(0x1d1)](this[_0x5b69a2(0x1d5)]+_0x5b69a2(0x235)+_0x61463d['ip']+':'+_0x61463d['port']+'\x20|\x20Error:\x20'+_0x2d66f6[_0x5b69a2(0x218)]),![];}}async['run'](_0x196f78){const _0x550e6c=a0_0x80a924;let _0x26f976,_0x2539a8=0x0,_0x5a89b1,_0x444fd8=0x0,_0x26d41e;if(settings[_0x550e6c(0x202)]&&_0x196f78){_0x26f976=axios[_0x550e6c(0x211)]({'httpsAgent':this.#proxy_agent(_0x196f78),'headers':this[_0x550e6c(0x1ce)],'withCredentials':!![]});const _0x51092a=await this.#check_proxy(_0x26f976,_0x196f78);!_0x51092a&&(_0x26f976=axios[_0x550e6c(0x211)]({'headers':this[_0x550e6c(0x1ce)],'withCredentials':!![]}));}else _0x26f976=axios[_0x550e6c(0x211)]({'headers':this[_0x550e6c(0x1ce)],'withCredentials':!![]});while(!![]){try{const _0x3d1c92=Date[_0x550e6c(0x216)]()/0x3e8;if(_0x3d1c92-_0x2539a8>=0x708){const _0x36fcd3=await this.#get_tg_web_data();_0x26d41e=await this.#get_access_token(_0x36fcd3,_0x26f976),_0x26f976['defaults'][_0x550e6c(0x1ce)][_0x550e6c(0x1ff)]=_0x550e6c(0x1e8)+_0x26d41e?.[_0x550e6c(0x1e7)],_0x2539a8=_0x3d1c92,await sleep(0x2);}_0x5a89b1=await this['api']['get_user_data'](_0x26f976);const _0x2fb245=await this[_0x550e6c(0x1e6)][_0x550e6c(0x20b)](_0x26f976),_0x317394=await this[_0x550e6c(0x1e6)]['check_jwt'](_0x26f976);if(!_0x317394){logger['info'](this[_0x550e6c(0x1d5)]+_0x550e6c(0x21d)),_0x5a89b1=null,_0x26d41e=null,_0x2539a8=0x0;continue;}if(!_0x5a89b1)continue;if(settings[_0x550e6c(0x203)]){const _0x4393d9=await this[_0x550e6c(0x1e6)]['check_my_tribe'](_0x26f976);if(_0x4393d9===![]){const _0x3107f7=await this[_0x550e6c(0x1e6)][_0x550e6c(0x224)](_0x26f976);Array[_0x550e6c(0x22d)](_0x3107f7?.['items'])&&_0x3107f7?.[_0x550e6c(0x238)]?.[_0x550e6c(0x1f9)]>0x0?(await this['api'][_0x550e6c(0x1f0)](_0x26f976,_0x3107f7?.[_0x550e6c(0x238)][0x0]['id']),logger[_0x550e6c(0x236)](this[_0x550e6c(0x1d5)]+_0x550e6c(0x21f)+_0x3107f7?.[_0x550e6c(0x238)][0x0][_0x550e6c(0x1e5)]+_0x550e6c(0x20d))):logger[_0x550e6c(0x236)](this[_0x550e6c(0x1d5)]+_0x550e6c(0x22e));}}if(!_0x5a89b1?.['farming']){if(settings[_0x550e6c(0x1f4)]){const _0x4340da=await this[_0x550e6c(0x1e6)]['start_farming'](_0x26f976);logger[_0x550e6c(0x236)](this[_0x550e6c(0x1d5)]+'\x20|\x20Farming\x20started\x20\x20|\x20End\x20Time:\x20<la>'+new Date(_0x4340da?.[_0x550e6c(0x1e3)])+'</la>\x20|\x20Earnings\x20Rate:\x20<pi>'+_0x4340da?.[_0x550e6c(0x1e1)]+'</pi>');}}else{if(_0x2fb245?.[_0x550e6c(0x216)]>=_0x5a89b1?.[_0x550e6c(0x231)]?.[_0x550e6c(0x1e3)]){if(settings[_0x550e6c(0x233)]){logger['info'](this[_0x550e6c(0x1d5)]+'\x20|\x20Claiming\x20farming\x20reward...');const _0x317ccb=await this[_0x550e6c(0x1e6)][_0x550e6c(0x1fc)](_0x26f976);logger[_0x550e6c(0x236)](this['session_name']+_0x550e6c(0x227)+_0x317ccb?.[_0x550e6c(0x1d4)]+_0x550e6c(0x1e0)+_0x317ccb?.[_0x550e6c(0x222)]+_0x550e6c(0x1dc));}}else _0x2fb245?.[_0x550e6c(0x216)]>=_0x5a89b1?.[_0x550e6c(0x231)]?.[_0x550e6c(0x23c)]&&logger[_0x550e6c(0x236)](this['session_name']+_0x550e6c(0x1c4)+Math[_0x550e6c(0x201)]((_0x5a89b1?.[_0x550e6c(0x231)]?.[_0x550e6c(0x1e3)]-_0x2fb245?.[_0x550e6c(0x216)])/0x3e8/0x3c/0x3c)+'\x20hour(s)');}await sleep(0x3),_0x5a89b1=await this['api'][_0x550e6c(0x1ee)](_0x26f976);if(settings['AUTO_PLAY_GAMES']){if(_0x5a89b1?.['playPasses']>0x0){const _0x279f41=await this[_0x550e6c(0x1e6)][_0x550e6c(0x21e)](_0x26f976);if(_0x279f41?.[_0x550e6c(0x23b)]){logger[_0x550e6c(0x236)](this[_0x550e6c(0x1d5)]+'\x20|\x20Game\x20started\x20\x20|\x20Duration:\x20<la>\x2035\x20seconds</la>'),await sleep(0x23);const _0x109cfe=_[_0x550e6c(0x1cf)](0x64,0xc8),_0x24d87a={'gameId':_0x279f41?.[_0x550e6c(0x23b)],'points':_0x109cfe},_0x1993b9=await this[_0x550e6c(0x1e6)][_0x550e6c(0x1fa)](_0x26f976,_0x24d87a);_0x5a89b1=await this[_0x550e6c(0x1e6)][_0x550e6c(0x1ee)](_0x26f976),_0x1993b9[_0x550e6c(0x1ec)]()=='ok'&&logger[_0x550e6c(0x236)](this[_0x550e6c(0x1d5)]+'\x20|\x20Game\x20ended\x20\x20|\x20Earnings:\x20<gr>+'+_0x109cfe+_0x550e6c(0x22f)+_0x5a89b1?.[_0x550e6c(0x222)]+_0x550e6c(0x20c)+_0x5a89b1?.['availableBalance']+_0x550e6c(0x20d));}}}await sleep(0x3);if(settings['CLAIM_FRIENDS_REWARD']){const _0x4a7d33=await this[_0x550e6c(0x1e6)][_0x550e6c(0x1f8)](_0x26f976);if(_0x4a7d33?.[_0x550e6c(0x217)]&&!isNaN(parseInt(_0x4a7d33?.[_0x550e6c(0x1c3)]))){if(parseInt(_0x4a7d33?.[_0x550e6c(0x1c3)])>0x0){const _0x1b96bc=await this['api'][_0x550e6c(0x1e9)](_0x26f976);_0x1b96bc?.['claimBalance']&&(_0x5a89b1=await this[_0x550e6c(0x1e6)]['get_user_data'](_0x26f976),logger['info'](this[_0x550e6c(0x1d5)]+_0x550e6c(0x1d9)+_0x1b96bc?.[_0x550e6c(0x1fe)]+_0x550e6c(0x229)+_0x5a89b1?.['availableBalance']+'</lb>'));}}}await sleep(0x3);if(_0x3d1c92>=_0x444fd8){if(settings['CLAIM_DAILY_REWARD']){const _0x3938d9=await this[_0x550e6c(0x1e6)][_0x550e6c(0x209)](_0x26f976);_0x3938d9?logger[_0x550e6c(0x236)](this[_0x550e6c(0x1d5)]+_0x550e6c(0x20f)):(_0x444fd8=_0x3d1c92+0x4650,logger[_0x550e6c(0x236)](this[_0x550e6c(0x1d5)]+'\x20|\x20‚è∞\x20Daily\x20reward\x20not\x20available.\x20Next\x20check:\x20<b><lb>'+new Date(_0x444fd8*0x3e8)+_0x550e6c(0x1c9)));}}}catch(_0xc97785){logger['error'](this[_0x550e6c(0x1d5)]+_0x550e6c(0x1f6)+_0xc97785);}finally{logger[_0x550e6c(0x236)](this[_0x550e6c(0x1d5)]+_0x550e6c(0x1d6)+settings['SLEEP_BETWEEN_TAP']+_0x550e6c(0x1c7)),await sleep(settings['SLEEP_BETWEEN_TAP']);}}}}module[a0_0x80a924(0x1f2)]=Tapper;